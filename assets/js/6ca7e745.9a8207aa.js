"use strict";(self.webpackChunkosc_docs=self.webpackChunkosc_docs||[]).push([[366],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>b});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),s=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},c=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),u=s(a),m=r,b=u["".concat(p,".").concat(m)]||u[m]||d[m]||i;return a?n.createElement(b,l(l({ref:t},c),{},{components:a})):n.createElement(b,l({ref:t},c))}));function b(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=m;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[u]="string"==typeof e?e:r,l[1]=o;for(var s=2;s<i;s++)l[s]=a[s];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},2636:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>s});var n=a(7462),r=(a(7294),a(3905));const i={title:"API Reference",description:"Club Website API Reference",sidebar_position:4},l=void 0,o={unversionedId:"api-reference",id:"api-reference",title:"API Reference",description:"Club Website API Reference",source:"@site/docs/website/api-reference.md",sourceDirName:".",slug:"/api-reference",permalink:"/docs/website/api-reference",draft:!1,editUrl:"https://github.com/ufosc/osc-docs/docs/website/api-reference.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"API Reference",description:"Club Website API Reference",sidebar_position:4},sidebar:"defaultSidebar",previous:{title:"Contributing Guide",permalink:"/docs/website/Developers/contributing-guide"}},p={},s=[{value:"Bulk Retrieve Blog Posts: (GET) /api/blog/",id:"bulk-retrieve-blog-posts-get-apiblog",level:2},{value:"Request Parameters",id:"request-parameters",level:3},{value:"Sample Response",id:"sample-response",level:3},{value:"Example",id:"example",level:3},{value:"Fetch Blog Article Page: (GET) api/blog/:id",id:"fetch-blog-article-page-get-apiblogid",level:2},{value:"Request Parameters",id:"request-parameters-1",level:3},{value:"Example",id:"example-1",level:3},{value:"GET /api/image/:id",id:"get-apiimageid",level:2}],c={toc:s},u="wrapper";function d(e){let{components:t,...a}=e;return(0,r.kt)(u,(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("admonition",{title:"Rate Limit",type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Routes are currently limited to 100-500 (may vary) requests per minute.")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"The OSC Website API is intended for internal use only. Only non-authenticated public routes have been documented here. If you're seeking documentation for a self-hosted instance, refer to the ",(0,r.kt)("a",{parentName:"p",href:"/docs/website/Developers/API/"},"developers guide")," instead.")),(0,r.kt)("h2",{id:"bulk-retrieve-blog-posts-get-apiblog"},"Bulk Retrieve Blog Posts: (GET) /api/blog/"),(0,r.kt)("p",null,"To index posts in the /blog and /admin pages, it was necessary to implement a route which returned an index of the most recent posts. Unlike the ",(0,r.kt)("inlineCode",{parentName:"p"},"GET: /api/blog/:id")," route, which returns an HTML render of the blog, the ",(0,r.kt)("inlineCode",{parentName:"p"},"GET: /api/blog/")," returns the underlying JSON objects."),(0,r.kt)("p",null,"Although authentication is optional, non-authenticated users can only retrieve posts that are marked ",(0,r.kt)("inlineCode",{parentName:"p"},"status: published"),"."),(0,r.kt)("h3",{id:"request-parameters"},"Request Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"JWT (cookie)"),(0,r.kt)("td",{parentName:"tr",align:null},"(Optional) Auth cookie")))),(0,r.kt)("h3",{id:"sample-response"},"Sample Response"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Content-Type: application/json")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Content-Type: application/json"',title:'"Content-Type:','application/json"':!0},'[\n    {\n        "_id":"64be230c227074ba993f8e3f",\n        "title":"post has been modified",\n        "status":"draft",\n        "previewImg":"/assets/blog_default_img.jpeg",\n        "content":"my modified article",\n        "subtitle":"my draft",\n        "author":["zeim839"],\n        "date":"2023-07-24T07:06:52.208Z",\n        "__v":0\n    }\n]\n')),(0,r.kt)("p",null,"Empty response:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Content-Type: application/json")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Content-Type: application/json"',title:'"Content-Type:','application/json"':!0},"[]\n")),(0,r.kt)("h3",{id:"example"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"curl -XGET 'https://ufosc.org/api/blog'\n")),(0,r.kt)("h2",{id:"fetch-blog-article-page-get-apiblogid"},"Fetch Blog Article Page: (GET) api/blog/:id"),(0,r.kt)("p",null,"This route fetches articles by the specified URL ID parameter and returns them as rendered HTML. An error article is rendered if the ID is invalid or non-existent."),(0,r.kt)("p",null,"Articles whose status is not 'published' (e.g 'draft') are only visible to authenticated users. They do not render on the /blog page, but may be accessed by authenticated users if their ID is known. Generally, authenticated users may access these posts by clicking on the 'preview' button alongside their table entries in the ",(0,r.kt)("a",{parentName:"p",href:"/docs/website/admin"},"admin dashboard"),"."),(0,r.kt)("h3",{id:"request-parameters-1"},"Request Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},":id (path)"),(0,r.kt)("td",{parentName:"tr",align:null},"ID of the requested blog post.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"JWT (cookie)"),(0,r.kt)("td",{parentName:"tr",align:null},"(Optional) Auth cookie for accessing restricted posts.")))),(0,r.kt)("h3",{id:"example-1"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"curl -XGET 'https://ufosc.org/api/blog/<BLOG ID HERE>'\n")),(0,r.kt)("h2",{id:"get-apiimageid"},"GET /api/image/:id"),(0,r.kt)("p",null,"Retrieves the individual blog image (as a file) specified by the path parameter ",(0,r.kt)("inlineCode",{parentName:"p"},"id"),"."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},":id (path)"),(0,r.kt)("td",{parentName:"tr",align:null},"ID of the requested image.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"curl -XGET 'https://ufosc.org/api/image/<IMAGE ID HERE>'\n")))}d.isMDXComponent=!0}}]);