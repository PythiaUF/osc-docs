"use strict";(self.webpackChunkosc_docs=self.webpackChunkosc_docs||[]).push([[394],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>g});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=i.createContext({}),p=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return i.createElement(s.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(n),m=a,g=d["".concat(s,".").concat(m)]||d[m]||u[m]||r;return n?i.createElement(g,o(o({ref:t},c),{},{components:n})):i.createElement(g,o({ref:t},c))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:a,o[1]=l;for(var p=2;p<r;p++)o[p]=n[p];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},8857:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var i=n(7462),a=(n(7294),n(3905));const r={title:"Usage & Configuration",description:"Club Website Configuration",sidebar_position:2},o="Usage & Configuration",l={unversionedId:"Developers/configuration",id:"Developers/configuration",title:"Usage & Configuration",description:"Club Website Configuration",source:"@site/docs/website/Developers/configuration.md",sourceDirName:"Developers",slug:"/Developers/configuration",permalink:"/docs/website/Developers/configuration",draft:!1,editUrl:"https://github.com/ufosc/osc-docs/docs/website/Developers/configuration.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Usage & Configuration",description:"Club Website Configuration",sidebar_position:2},sidebar:"defaultSidebar",previous:{title:"Getting Started",permalink:"/docs/website/Developers/introduction"},next:{title:"Rendering Pages",permalink:"/docs/website/Developers/rendering"}},s={},p=[{value:"Usage",id:"usage",level:2},{value:"Starting the webserver:",id:"starting-the-webserver",level:3},{value:"Linting &amp; fixing:",id:"linting--fixing",level:3},{value:"Running tests:",id:"running-tests",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Node Environment",id:"node-environment",level:3},{value:"Database Connections",id:"database-connections",level:3},{value:"Server Port",id:"server-port",level:3},{value:"Admin Dashboard Endpoint",id:"admin-dashboard-endpoint",level:3},{value:"Rate Limiting",id:"rate-limiting",level:3},{value:"Caching",id:"caching",level:3},{value:"Secret",id:"secret",level:3},{value:"SMTP Contact Form",id:"smtp-contact-form",level:3},{value:"ADMIN_EMAIL",id:"admin_email",level:3}],c={toc:p},d="wrapper";function u(e){let{components:t,...n}=e;return(0,a.kt)(d,(0,i.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"usage--configuration"},"Usage & Configuration"),(0,a.kt)("h2",{id:"usage"},"Usage"),(0,a.kt)("h3",{id:"starting-the-webserver"},"Starting the webserver:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"npm start\n")),(0,a.kt)("p",null,"Unless you've manually specified a port, you can access the website by visiting ",(0,a.kt)("a",{parentName:"p",href:"http://localhost:3000"},"http://localhost:3000")," on your browser."),(0,a.kt)("h3",{id:"linting--fixing"},"Linting & fixing:"),(0,a.kt)("p",null,"This project adheres to the JavaScript Standard syntax style, use linting to show you a list of syntax errors that you'll need to correct."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"npm run lint\n")),(0,a.kt)("p",null,"To automatically fix these, you can run:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"npm run fix\n")),(0,a.kt)("p",null,"Keep in mind that some syntax issues cannot be automatically resolved, in which case you'll need to run ",(0,a.kt)("inlineCode",{parentName:"p"},"npm run lint")," again and resolve them manually."),(0,a.kt)("h3",{id:"running-tests"},"Running tests:"),(0,a.kt)("admonition",{title:"Volatile Data",type:"danger"},(0,a.kt)("p",{parentName:"admonition"},"Tests are only meant to be ran on development environments. Do not use production databases in testing, their contents ",(0,a.kt)("b",null,"risk being deleted"),".")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"npm run test\n")),(0,a.kt)("h2",{id:"configuration"},"Configuration"),(0,a.kt)("p",null,"All configurations are available in ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/ufosc/Club_Website_2/blob/main/utils/config.js"},"config.js")," and can be modified by creating a ",(0,a.kt)("inlineCode",{parentName:"p"},".env")," file in the root directory."),(0,a.kt)("h3",{id:"node-environment"},"Node Environment"),(0,a.kt)("p",null,"NODE_ENV: Sets the working environment."),(0,a.kt)("p",null,"Three options are available:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Development - for writing & testing new features."),(0,a.kt)("li",{parentName:"ol"},"Staging - for testing features before deployment."),(0,a.kt)("li",{parentName:"ol"},"Production - for finished features available to the public.")),(0,a.kt)("p",null,"The working environment is set to 'development' by default. It can be changed by adding the following line to the ",(0,a.kt)("inlineCode",{parentName:"p"},".env"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'NODE_ENV = "development"\n')),(0,a.kt)("h3",{id:"database-connections"},"Database Connections"),(0,a.kt)("p",null,"MONGO_URI: Sets the connection URI for the MongoDB database."),(0,a.kt)("p",null,"It can be changed by adding the following line to the ",(0,a.kt)("inlineCode",{parentName:"p"},".env"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'MONGO_URI = "..."\n')),(0,a.kt)("h3",{id:"server-port"},"Server Port"),(0,a.kt)("p",null,"The port to run the server on. Set to 3000 by default. It can be changed by adding the following line to the ",(0,a.kt)("inlineCode",{parentName:"p"},".env"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"SERVER_PORT = 3000\n")),(0,a.kt)("h3",{id:"admin-dashboard-endpoint"},"Admin Dashboard Endpoint"),(0,a.kt)("p",null,"Because generic admin routes are subject to directory scans by vulnerability analyzers, we've added the option to configure the route manually. It is set to 'admin' by default, but can be changed via the following option in ",(0,a.kt)("inlineCode",{parentName:"p"},".env"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'ADMIN_ROUTE = "admin"\n')),(0,a.kt)("h3",{id:"rate-limiting"},"Rate Limiting"),(0,a.kt)("p",null,"The limiter sets up a rate limiter that controls how many requests can be made by a user before they are timed-out. There are two available options:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"RATE_LIMIT_TIMEOUT - the time interval (in minutes) where the user will be locked out of the site if they violate the rate limit."),(0,a.kt)("li",{parentName:"ol"},"RATE_LIMIT_MAX - the maximum number of requests in one RATE_LIMIT_TIMEOUT interval.")),(0,a.kt)("p",null,"They can be modified as follows:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"RATE_LIMIT_TIMEOUT = 5\nRATE_LIMIT_MAX = 1500\n")),(0,a.kt)("h3",{id:"caching"},"Caching"),(0,a.kt)("p",null,"CACHE_INTERVAL: How long to cache static pages (blog, index, etc.) for."),(0,a.kt)("p",null,"Instead of repeatedly querying the database for data, non-priority pages are cached. The cache interval (in minutes) can be modified like so:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"CACHE_INTERVAL = 30\n")),(0,a.kt)("h3",{id:"secret"},"Secret"),(0,a.kt)("p",null,"The secret is a key for encrypting JWTs. It can be modified like so:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'SECRET = "any string"\n')),(0,a.kt)("h3",{id:"smtp-contact-form"},"SMTP Contact Form"),(0,a.kt)("p",null,"Configurations for the SMTP mailer. This is disabled in development environments, but can be modified with the following options:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"SMTP_HOST"),": host address for the SMTP server (string)."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"SMTP_PORT"),": port for the host (integer, see above)."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"SMTP_USER"),": the server username (string)."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"SMTP_PASS"),": the server password (string.")),(0,a.kt)("h3",{id:"admin_email"},"ADMIN_EMAIL"),(0,a.kt)("p",null,"The email address to send contact form confirmation emails from. Can be set to anything so long as it's a valid email address. Modified as follows:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'ADMIN_EMAIL = "no-reply@ufosc.com"\n')))}u.isMDXComponent=!0}}]);